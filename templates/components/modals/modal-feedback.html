<!-- Модальное Feedback -->
<div class="modal-overlay" id="modal-feedback">
  <form id="feedback-form"
        class="modal flex flex-col gap-8"

        data-msg-no-digits="Numbers not allowed"
        data-msg-required="This field is required"
        data-msg-phone="Enter a valid phone number">
    <div class="modal-header px-4 md:px-6">
      <div class="flex flex-col">
        <div class="pb-1">
          <h3 class="h2 text-center">Feedback</h3>
        </div>
        <div>
          <p class="text-center leading-tight font-medium text-gray-700">Leave a request and our manager will contact you</p>
        </div>
      </div>
      <button type="button" class="modal-close [ absolute right-4 top-4 ] w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path d="M1 1L13 13M1 13L13 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="modal-body px-4 md:px-6 flex flex-col gap-8">
      <div class="grid grid-cols-1 gap-4">
        <div class="flex flex-col gap-2">
          <div class="input-floating">
            <input type="text" id="feedback-name" name="name" placeholder=" " data-validate="required|nodigits">
            <label for="feedback-name">First Name <span class="text-red-500">*</span></label>
          </div>
          <div class="input-error text-xs text-red-500 font-bold hidden"></div>
        </div>

        <div class="flex flex-col gap-2">
          <div class="input-floating">
            <input type="tel" id="feedback-phone" name="phone" placeholder=" " data-validate="required|phone">
            <label for="feedback-phone">Phone <span class="text-red-500">*</span></label>
          </div>
          <div class="input-error text-xs text-red-500 font-bold hidden"></div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="flex flex-col gap-4 flex-wrap px-4 md:px-6 pb-4 pt-2">
        <div>
          <button type="submit" class="btn-default black lg justify-center w-full flex">
            Send a request
          </button>
        </div>
        <div>
          <p class="text-sm text-gray-700 font-bold text-center">
            At least 8 characters, one number, one symbol.
          </p>
        </div>
      </div>
    </div>
  </form>
</div>


<!-- TODO: Backend implementation needed
     1. Create view: feedback(request)
     2. Create model: Feedback(name, phone, created_at)
     3. Add URL: path('feedback/', views.feedback, name='feedback')
     4. On success: redirect('/?feedback=success')
     5. On error: redirect('/?feedback=error')
-->

<!-- Feedback Success -->
<!-- TODO: Add 'active' class dynamically based on ?feedback=success GET parameter {% if request.GET.feedback == 'success' %}active{% endif %} -->

<div class="modal-overlay " id="modal-feedback-success">
  <div class="modal flex flex-col gap-8 text-center">
    <div class="modal-header px-4 md:px-6">
      <button type="button" class="modal-close absolute right-4 top-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path d="M1 1L13 13M1 13L13 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="modal-body px-4 md:px-6 flex flex-col items-center">
      <div class="w-16 h-16 mb-2 bg-green-100 rounded-full flex items-center justify-center">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#22c55e" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
      <h3 class="h2">Thank you!</h3>
      <p class="text-gray-700">Your request has been sent.<br>We'll contact you shortly.</p>
    </div>
    <div class="modal-footer px-4 md:px-6 pb-4">
      <button type="button" class="btn-default black lg justify-center w-full flex modal-close">
        Got it
      </button>
    </div>
  </div>
</div>

<!-- Feedback Error -->
<!-- TODO: Add 'active' class dynamically based on ?feedback=error GET parameter {% if request.GET.feedback == 'error' %}active{% endif %} -->

<div class="modal-overlay " id="modal-feedback-error">
  <div class="modal flex flex-col gap-8 text-center">
    <div class="modal-header px-4 md:px-6">
      <button type="button" class="modal-close absolute right-4 top-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path d="M1 1L13 13M1 13L13 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="modal-body px-4 md:px-6 flex flex-col items-center">
      <div class="w-16 h-16 mb-2 bg-red-100 rounded-full flex items-center justify-center">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"></path>
        </svg>
      </div>
      <h3 class="h2">Something went wrong</h3>
      <p class="text-gray-700">Please try again or contact us directly.</p>
    </div>
    <div class="modal-footer px-4 md:px-6 pb-4 flex flex-col gap-2">
      <button type="button" class="btn-default black lg justify-center w-full flex" id="btn-retry-feedback">
        Try again
      </button>
      <button type="button" class="modal-close text-gray-700 hover:text-gray-900 py-2 font-bold">
        Close
      </button>
    </div>
  </div>
</div>